# âš¡ QUICK TEST CHECKLIST\n\n## ðŸš€ **Test Rapidi (5 minuti)**\n\n### âœ… **Passo 1: Database Update (1 min)**\n```sql\n-- Vai su Supabase > SQL Editor ed esegui:\nALTER TABLE public.activities \nDROP CONSTRAINT IF EXISTS activities_type_check;\n\nALTER TABLE public.activities \nADD CONSTRAINT activities_type_check \nCHECK (type IN ('walking', 'cycling', 'running', 'public_transport', 'waste_recycling', 'other'));\n```\n\n### âœ… **Passo 2: Reinstalla Dependencies (1 min)**\n```bash\nrm -rf node_modules\nnpm install\nnpm run dev\n```\n\n### âœ… **Passo 3: Test Google Fit (2 min)**\n1. Vai su `http://localhost:5173/googlefit-test`\n2. Disconnetti e riconnetti Google Fit\n3. Sincronizza attivitÃ \n4. âœ… **Check:** Distanze > 0, Token > 0, no errori console\n\n### âœ… **Passo 4: Test No Duplicati (1 min)**\n1. Conta le attivitÃ  prima\n2. Clicca \"Sincronizza\" di nuovo\n3. âœ… **Check:** Stesso numero, messaggi \"Skipping duplicate\"\n\n### âœ… **Passo 5: Test Certificazione (1 min)**\n1. Vai su `http://localhost:5173/activities`\n2. Trova attivitÃ  \"Pending\"\n3. Clicca \"Certifica\"\n4. âœ… **Check:** Badge diventa \"Certificata\", token si aggiornano\n\n---\n\n## ðŸŽ¯ **Test Completi (15 minuti)**\n\n### ðŸ“± **OAuth2 Migration:**\n- [ ] Nessun warning \"deprecated libraries\" in console\n- [ ] Connessione Google Fit funziona\n- [ ] Token di accesso viene ricevuto\n\n### ðŸ”§ **Google Fit Fixes:**\n- [ ] Distanze mostrate correttamente (non 0)\n- [ ] Token calcolati > 0\n- [ ] Supporto per walking/cycling/running\n- [ ] Logging dettagliato in console\n\n### ðŸ›¡ï¸ **Duplicate Prevention:**\n- [ ] Prima sync salva attivitÃ \n- [ ] Seconda sync non crea duplicati\n- [ ] Console mostra \"Skipping duplicate activity\"\n- [ ] Numero attivitÃ  rimane costante\n\n### âš¡ **Individual Certification:**\n- [ ] Pagina `/activities` carica correttamente\n- [ ] Filtri funzionano (Tutte/Pending/Certificate)\n- [ ] Bottone \"Certifica\" disponibile per attivitÃ  pending\n- [ ] Certificazione aggiorna stato e token\n- [ ] Badge cambia da \"Pending\" a \"Certificata\"\n\n### ðŸ“‹ **User Interface:**\n- [ ] Statistiche corrette (totali, pending, certificate)\n- [ ] Vista dettagli mostra tutte le informazioni\n- [ ] Design responsive su mobile\n- [ ] Toast notifications funzionano\n- [ ] Ricarica attivitÃ  funziona\n\n---\n\n## ðŸš¨ **Troubleshooting Veloce**\n\n### **âŒ \"OAuth2 token client not initialized\"**\nâ†’ Verifica credenziali Google in `.env`\n\n### **âŒ Distanza sempre 0**\nâ†’ Controlla permessi Google Fit app e presenza dati\n\n### **âŒ \"Database constraint error\"**\nâ†’ Esegui `google-fit-database-update.sql`\n\n### **âŒ Duplicati ancora creati**\nâ†’ Verifica che `checkGoogleFitActivityExists` sia stato aggiunto\n\n### **âŒ Bottone \"Certifica\" non funziona**\nâ†’ Verifica autenticazione utente e presenza attivitÃ \n\n---\n\n## ðŸ“Š **Success Indicators**\n\n### âœ… **Console Logs da Vedere:**\n```\nâœ… OAuth2 token client initialized\nðŸ“Š Found X sessions from Google Fit\nâœ… Distance found: X.XX km\nðŸ” Google Fit session ABC exists: false\nðŸ’° Calculated rewards: {distance, co2Saved, tokensEarned}\nâœ… New activity saved to database\nðŸ† Starting certification for activity: ID\nâœ… Activity ID certification initiated\n```\n\n### âœ… **Interface da Vedere:**\n- Badge \"Google Fit\" sulle attivitÃ  sincronizzate\n- Distanze e durata mostrate correttamente\n- Token > 0 per ogni attivitÃ \n- Stato \"Pending\" per nuove attivitÃ \n- Stato \"Certificata\" dopo certificazione\n- Contatori che si aggiornano in tempo reale\n\n---\n\n## ðŸŽ‰ **Se Tutto Funziona:**\n\n**Congratulazioni! Il sistema Ã¨ completo e pronto per la Fase 3 (Smart Contracts)! ðŸš€**\n\n**Features pronte:**\n- âœ… Google Fit sync senza duplicati\n- âœ… Certificazione individuale attivitÃ \n- âœ… Interface completa per gestione\n- âœ… Sistema robusto e scalabile\n- âœ… Preparazione blockchain completa\n\n**Prossimo passo:** Integrazione smart contract Polygon per certificazione on-chain reale!\n