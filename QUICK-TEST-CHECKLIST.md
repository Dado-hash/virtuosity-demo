# ⚡ QUICK TEST CHECKLIST\n\n## 🚀 **Test Rapidi (5 minuti)**\n\n### ✅ **Passo 1: Database Update (1 min)**\n```sql\n-- Vai su Supabase > SQL Editor ed esegui:\nALTER TABLE public.activities \nDROP CONSTRAINT IF EXISTS activities_type_check;\n\nALTER TABLE public.activities \nADD CONSTRAINT activities_type_check \nCHECK (type IN ('walking', 'cycling', 'running', 'public_transport', 'waste_recycling', 'other'));\n```\n\n### ✅ **Passo 2: Reinstalla Dependencies (1 min)**\n```bash\nrm -rf node_modules\nnpm install\nnpm run dev\n```\n\n### ✅ **Passo 3: Test Google Fit (2 min)**\n1. Vai su `http://localhost:5173/googlefit-test`\n2. Disconnetti e riconnetti Google Fit\n3. Sincronizza attività\n4. ✅ **Check:** Distanze > 0, Token > 0, no errori console\n\n### ✅ **Passo 4: Test No Duplicati (1 min)**\n1. Conta le attività prima\n2. Clicca \"Sincronizza\" di nuovo\n3. ✅ **Check:** Stesso numero, messaggi \"Skipping duplicate\"\n\n### ✅ **Passo 5: Test Certificazione (1 min)**\n1. Vai su `http://localhost:5173/activities`\n2. Trova attività \"Pending\"\n3. Clicca \"Certifica\"\n4. ✅ **Check:** Badge diventa \"Certificata\", token si aggiornano\n\n---\n\n## 🎯 **Test Completi (15 minuti)**\n\n### 📱 **OAuth2 Migration:**\n- [ ] Nessun warning \"deprecated libraries\" in console\n- [ ] Connessione Google Fit funziona\n- [ ] Token di accesso viene ricevuto\n\n### 🔧 **Google Fit Fixes:**\n- [ ] Distanze mostrate correttamente (non 0)\n- [ ] Token calcolati > 0\n- [ ] Supporto per walking/cycling/running\n- [ ] Logging dettagliato in console\n\n### 🛡️ **Duplicate Prevention:**\n- [ ] Prima sync salva attività\n- [ ] Seconda sync non crea duplicati\n- [ ] Console mostra \"Skipping duplicate activity\"\n- [ ] Numero attività rimane costante\n\n### ⚡ **Individual Certification:**\n- [ ] Pagina `/activities` carica correttamente\n- [ ] Filtri funzionano (Tutte/Pending/Certificate)\n- [ ] Bottone \"Certifica\" disponibile per attività pending\n- [ ] Certificazione aggiorna stato e token\n- [ ] Badge cambia da \"Pending\" a \"Certificata\"\n\n### 📋 **User Interface:**\n- [ ] Statistiche corrette (totali, pending, certificate)\n- [ ] Vista dettagli mostra tutte le informazioni\n- [ ] Design responsive su mobile\n- [ ] Toast notifications funzionano\n- [ ] Ricarica attività funziona\n\n---\n\n## 🚨 **Troubleshooting Veloce**\n\n### **❌ \"OAuth2 token client not initialized\"**\n→ Verifica credenziali Google in `.env`\n\n### **❌ Distanza sempre 0**\n→ Controlla permessi Google Fit app e presenza dati\n\n### **❌ \"Database constraint error\"**\n→ Esegui `google-fit-database-update.sql`\n\n### **❌ Duplicati ancora creati**\n→ Verifica che `checkGoogleFitActivityExists` sia stato aggiunto\n\n### **❌ Bottone \"Certifica\" non funziona**\n→ Verifica autenticazione utente e presenza attività\n\n---\n\n## 📊 **Success Indicators**\n\n### ✅ **Console Logs da Vedere:**\n```\n✅ OAuth2 token client initialized\n📊 Found X sessions from Google Fit\n✅ Distance found: X.XX km\n🔍 Google Fit session ABC exists: false\n💰 Calculated rewards: {distance, co2Saved, tokensEarned}\n✅ New activity saved to database\n🏆 Starting certification for activity: ID\n✅ Activity ID certification initiated\n```\n\n### ✅ **Interface da Vedere:**\n- Badge \"Google Fit\" sulle attività sincronizzate\n- Distanze e durata mostrate correttamente\n- Token > 0 per ogni attività\n- Stato \"Pending\" per nuove attività\n- Stato \"Certificata\" dopo certificazione\n- Contatori che si aggiornano in tempo reale\n\n---\n\n## 🎉 **Se Tutto Funziona:**\n\n**Congratulazioni! Il sistema è completo e pronto per la Fase 3 (Smart Contracts)! 🚀**\n\n**Features pronte:**\n- ✅ Google Fit sync senza duplicati\n- ✅ Certificazione individuale attività\n- ✅ Interface completa per gestione\n- ✅ Sistema robusto e scalabile\n- ✅ Preparazione blockchain completa\n\n**Prossimo passo:** Integrazione smart contract Polygon per certificazione on-chain reale!\n