"use strict";var e=require("react"),t=require("wagmi"),r=require("wagmi/connectors");exports.useEmbeddedSmartAccountConnector=({getSmartAccountFromSigner:i})=>{let n=t.useConnectors(),o=t.useConfig(),{reconnect:a}=t.useReconnect();e.useEffect((()=>{(async()=>{if(n.find((e=>"io.privy.smart_wallet"===e.id)))return;let e=n.find((e=>"io.privy.wallet"===e.id));if(!e)return;let t=await e.getProvider(),c=r.injected({target:{provider:await i({signer:t}),id:"io.privy.smart_wallet",name:"io.privy.smart_wallet",icon:""}}),s=o._internal.connectors.setup(c);o._internal.connectors.setState([s]),await(o.storage?.setItem("recentConnectorId",s.id)),a()})()}),[n,o,i])};
